{"version":3,"file":"plugin.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Mixpanel = registerPlugin('Mixpanel', {\n    web: () => import('./web').then(m => new m.MixpanelWeb()),\n});\nexport * from './definitions';\nexport { Mixpanel };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nimport mixpanel from 'mixpanel-browser';\nexport class MixpanelWeb extends WebPlugin {\n    constructor() {\n        super();\n        this.superProperties = {};\n        window.mixpanel = mixpanel;\n    }\n    async initialize(options) {\n        var _a, _b, _c;\n        mixpanel.init(options.token, {\n            autotrack: (_a = options.autotrack) !== null && _a !== void 0 ? _a : true,\n            opt_out_tracking_by_default: (_b = options.optOutByDefault) !== null && _b !== void 0 ? _b : false,\n            debug: (_c = options.debug) !== null && _c !== void 0 ? _c : false,\n        });\n        return Promise.resolve();\n    }\n    async distinctId() {\n        return Promise.resolve({ value: mixpanel.get_distinct_id() });\n    }\n    async track(options) {\n        mixpanel.track(options.event, options.properties);\n        return Promise.resolve();\n    }\n    async identify(options) {\n        mixpanel.identify(options.distinctId);\n        return Promise.resolve();\n    }\n    async alias(options) {\n        mixpanel.alias(options.alias, options.distinctId);\n        return Promise.resolve();\n    }\n    async reset() {\n        mixpanel.reset();\n        return Promise.resolve();\n    }\n    async clearSuperProperties() {\n        for (const k of Object.keys(this.superProperties)) {\n            mixpanel.unregister(k);\n        }\n        this.superProperties = {};\n        return Promise.resolve();\n    }\n    async currentSuperProperties() {\n        return Promise.resolve({\n            properties: this.superProperties,\n        });\n    }\n    async registerSuperProperties(options) {\n        mixpanel.register(options.properties);\n        return Promise.resolve();\n    }\n    async setProfile(options) {\n        mixpanel.people.set(options.properties);\n        return Promise.resolve();\n    }\n    async setProfileUnion(options) {\n        mixpanel.people.union(options.properties);\n        return Promise.resolve();\n    }\n    async deleteProfile() {\n        mixpanel.people.delete_user();\n    }\n    async trackCharge(options) {\n        mixpanel.people.track_charge(options.amount, options.properties);\n    }\n    async flush() {\n        // NOT IMPLEMENTED FOR WEB\n    }\n    async optInTracking(options) {\n        mixpanel.opt_in_tracking(options.properties);\n    }\n    async optOutTracking() {\n        mixpanel.opt_out_tracking();\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin","mixpanel"],"mappings":"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"}