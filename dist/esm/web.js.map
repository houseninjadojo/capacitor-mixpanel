{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,QAAQ,MAAM,kBAAkB,CAAC;AAIxC,MAAM,OAAO,WAAY,SAAQ,SAAS;IAIxC;QACE,KAAK,CAAC;YACJ,IAAI,EAAE,UAAU;YAChB,SAAS,EAAE,CAAC,KAAK,CAAC;SACnB,CAAC,CAAC;QAPG,aAAQ,GAAG,QAAQ,CAAC;QACpB,oBAAe,GAAG,EAAE,CAAC;IAO7B,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,OAA0B;QACnC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QACnD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,OAA2C;QACrD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC;QACvD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,OAA+B;QAC5C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC3C,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,OAA8C;QACxD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC;QACvD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,KAAK;QACT,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACtB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,oBAAoB;QACxB,KAAK,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE;YACjD,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SAC7B;QACD,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,sBAAsB;QAC1B,OAAO,OAAO,CAAC,OAAO,CAAC;YACrB,UAAU,EAAE,IAAI,CAAC,eAAe;SACjC,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,uBAAuB,CAAC,OAA4B;QACxD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC3C,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;CACF","sourcesContent":["import { WebPlugin } from '@capacitor/core';\nimport mixpanel from 'mixpanel-browser';\n\nimport type { MixpanelPlugin } from './definitions';\n\nexport class MixpanelWeb extends WebPlugin implements MixpanelPlugin {\n  private mixpanel = mixpanel;\n  private superProperties = {};\n\n  constructor() {\n    super({\n      name: 'Mixpanel',\n      platforms: ['web'],\n    });\n  }\n\n  async init(options: { token: string }): Promise<void> {\n    this.mixpanel.init(options.token, { debug: true });\n    return Promise.resolve();\n  }\n\n  async track(options: { event: string, properties: any }): Promise<void> {\n    this.mixpanel.track(options.event, options.properties);\n    return Promise.resolve();\n  }\n\n  async identify(options: { distinctId: string }): Promise<void> {\n    this.mixpanel.identify(options.distinctId);\n    return Promise.resolve();\n  }\n\n  async alias(options: { alias: string, distinctId: string }): Promise<void> {\n    this.mixpanel.alias(options.alias, options.distinctId);\n    return Promise.resolve();\n  }\n\n  async reset(): Promise<void> {\n    this.mixpanel.reset();\n    return Promise.resolve();\n  }\n\n  async clearSuperProperties(): Promise<void> {\n    for (const k of Object.keys(this.superProperties)) {\n      this.mixpanel.unregister(k);\n    }\n    this.superProperties = {};\n    return Promise.resolve();\n  }\n\n  async currentSuperProperties(): Promise<{ properties: any }> {\n    return Promise.resolve({\n      properties: this.superProperties,\n    });\n  }\n\n  async registerSuperProperties(options: { properties: any }): Promise<void> {\n    this.mixpanel.register(options.properties);\n    return Promise.resolve();\n  }\n}\n"]}